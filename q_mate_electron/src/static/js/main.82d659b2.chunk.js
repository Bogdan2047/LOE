(this.webpackJsonpq_mate_touch_terminal=this.webpackJsonpq_mate_touch_terminal||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},3:function(e){e.exports=JSON.parse('{"backgroundColorDesktop":"#94D500","backgroundColorTerminal":"white","backgroundColorButtonList":"white","borderColorForButtonList":"4px #ffa300 solid","pressButton":"#ffa300","textSizeForButtonList":"35px","weightSizeForButtonList":400,"colorForButtonList":"black","fontSizeForButtonListMenuItem":"25px","weightSizeForButtonListMenuItem":400,"colorForButtonListMenuItem":"black","backgroundForNavigateButton":"#343e48","fontSizeForNavigateButton":"30px","fontWeightForNavigateButton":400,"colorForNavigateButton":"white","_comment":{"REACT_APP_VERIFONE_PRINT_URL":"api verifone, \u0434\u043b\u044f \u0434\u0440\u0443\u043a\u0443 \u0447\u0435\u043a\u0430","REACT_APP_VERIFONE_PRINT_REQUEST":"api verifone, \u0434\u043b\u044f \u0434\u0440\u0443\u043a\u0443 \u0447\u0435\u043a\u0430","REACT_APP_TIMEOUT_PRINT_REQUEST":"\u0447\u0430\u0441, \u0437\u0430 \u044f\u043a\u0438\u0439 \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430\u043f\u0438\u0442 \u043d\u0430 \u0434\u0440\u0443\u043a \u0447\u0435\u043a\u0443","REACT_APP_ERROR_TIMEOUT":"\u0447\u0430\u0441, \u0437 \u0432\u0438\u0447\u0435\u0440\u043f\u0430\u043d\u043d\u044f\u043c \u044f\u043a\u043e\u0433\u043e \u0432\u0456\u0434\u043b\u043e\u0432\u043b\u044e\u0454 \u043f\u043e\u043c\u0438\u043b\u043a\u0443","REACT_APP_TIMEOUT_PAGE":"\u0447\u0430\u0441, \u0437\u0430 \u044f\u043a\u043e\u0433\u043e \u0431\u0443\u0434\u0435 \u043f\u043e\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 popup","REACT_APP_TIME_DOWN":"\u0447\u0430\u0441, \u0437\u0430 \u044f\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u043a\u0438\u043d\u0435 \u043d\u0430 \u0433\u043e\u043b\u043e\u0432\u043d\u0443 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443, \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f, \u043a\u043e\u043b\u0438 \u0437\u02bc\u044f\u0432\u043b\u044f\u0454\u0442\u044c\u0441\u044f popup","durationDisplayErrorMessage":"\u0446\u0435 \u0447\u0430\u0441, \u0437\u0430 \u044f\u043a\u0438\u0439 \u043f\u043e\u0432\u0438\u043d\u043e \u0432\u0438\u0434\u0430\u0442\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0443 \u043f\u0440\u0438 \u0437\u0430\u043f\u0438\u0442\u0456 \u043d\u0430 \u0434\u0440\u0443\u043a, \u044f\u043a\u0449\u043e \u0446\u0435\u0439 \u0447\u0430\u0441 \u0432\u0438\u0439\u0448\u043e\u0432","backgroundColorDesktop":"\u0446\u0435 background \u0434\u043b\u044f \u0434\u0435\u0441\u043a\u0442\u043e\u043f\u043d\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457","backgroundColorTerminal":"\u0446\u0435 background \u0434\u043b\u044f \u0432\u0435\u0440\u0441\u0456\u0457, \u0442\u0435\u0440\u043c\u0456\u043d\u0430\u043b","backgroundColorButtonList":"\u0446\u0435\u0439 backround \u0434\u043b\u044f \u043a\u043e\u043b\u044c\u043e\u0440\u0443 \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0445 \u043a\u043d\u043e\u043f\u043e\u043a \u0432\u0438\u0431\u043e\u0440\u0443, \u0434\u043b\u044f \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u0457","borderColorForButtonList":"\u0446\u0435 \u0441\u0442\u0438\u043b\u0456 \u0440\u0430\u043c\u043a\u0438 \u043a\u043d\u043e\u043f\u043e\u043a \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0445 \u043a\u043d\u043e\u043f\u043e\u043a \u0434\u043b\u044f \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u0457","pressButton":"\u0446\u0435 \u043a\u043e\u043b\u0456\u0440 \u043f\u0440\u0438 \u043d\u0430\u0442\u0438\u0441\u043a\u0443 \u043d\u0430 \u043a\u043e\u043f\u043a\u0443, \u0434\u043b\u044f \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u0457","textSizeForButtonList":"\u0440\u043e\u0437\u043c\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443, \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0445 \u043a\u043d\u043e\u043f\u043a\u0430\u0445, \u0434\u043b\u044f \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u0457","weightSizeForButtonList":"\u0448\u0438\u0440\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0443, \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u0438\u0445 \u043a\u043d\u043e\u043f\u043a\u0430\u0445, \u0434\u043b\u044f \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u0457","colorForButtonList":"\u043a\u043e\u043b\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043f\u0456\u0434\u0432\u0438\u0431\u0456\u0440\u043a\u0438, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","fontSizeForButtonListMenuItem":"\u0440\u043e\u0437\u043c\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043f\u0456\u0434\u0432\u0438\u0431\u0456\u0440\u043a\u0438, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","weightSizeForButtonListMenuItem":"\u0448\u0438\u0440\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043f\u0456\u0434\u0432\u0438\u0431\u0456\u0440\u043a\u0438, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","colorForButtonListMenuItem":"\u043a\u043e\u043b\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","backgroundForNavigateButton":"\u043a\u043e\u043b\u0456\u0440 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","fontSizeForNavigateButton":"\u0440\u043e\u0437\u043c\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","fontWeightForNavigateButton":"\u0448\u0438\u0440\u0438\u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f","colorForNavigateButton":"\u043a\u043e\u043b\u0456\u0440 \u0442\u0435\u043a\u0441\u0442\u0443 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457, \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0456\u044f"}}')},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},5:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),c=n(16),l=n.n(c),r=(n(22),n(5),n(3));let o=window.innerWidth,a=window.innerHeight;window.addEventListener("resize",(()=>{const e=window.innerWidth,t=window.innerHeight;e>o&&(o=e),t>a&&(a=t)}));const d={backgroundColor:r.backgroundColorDesktop,flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center"},u={backgroundColor:r.backgroundColorTerminal,display:"block"},j={width:o>1238?"600px":"450px",height:a>900?a>1e3?"160px":"140px":"110px",borderRadius:"30px",backgroundColor:r.backgroundColorButtonList,border:r.borderColorForButtonList},h={width:o>1238?"300px":"220px",height:"110px",borderRadius:"30px",backgroundColor:r.backgroundColorButtonList,border:r.borderColorForButtonList},b={fontWeight:r.weightSizeForButtonList,fontSize:r.textSizeForButtonList,color:r.colorForButtonList},p={fontWeight:r.weightSizeForButtonListMenuItem,fontSize:r.fontSizeForButtonListMenuItem,color:r.colorForButtonListMenuItem},O={cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",minHeight:"25px",backgroundColor:r.backgroundForNavigateButton,borderRadius:"16px",width:"300px",height:a>900?"83px":"73px",textTransform:"capitalize",borderStyle:"none"},m={fontSize:r.fontSizeForNavigateButton,fontWeight:r.fontWeightForNavigateButton,color:r.colorForNavigateButton},x={borderStyle:"none",width:"300px",height:"83px",borderRadius:"16px",backgroundColor:r.backgroundForNavigateButton,color:r.colorForNavigateButton,textAlign:"center"};var g=n(0);var f=e=>{let{item:t,handleIdChange:n,setCurrentPage:s,setId:c,setLastID:l,setBranchID:r,data:o,heightDisplay:a,widthDisplay:d,setServicePage:u}=e;const[h,O]=Object(i.useState)(0),m=(e,t,i)=>{"SERVICE"===i&&u(1),n(e),s("NODE"===i?"subMenu":"choiceTime"),c(e),l(e),r(t)};Object(i.useEffect)((()=>{var e;const t=null===(e=document.querySelector(".header-desktop"))||void 0===e?void 0:e.offsetHeight;O(t)}),[]);const x=window.innerHeight-h;return Object(g.jsx)("div",{style:(null===o||void 0===o?void 0:o.length)>2?{paddingTop:d<900?0:26}:(null===o||void 0===o?void 0:o.length)<=2&&d>900?{height:x,display:"flex",justifyContent:"center"}:(null===o||void 0===o?void 0:o.length)<=2&&d<900?{paddingTop:80}:null,children:Object(g.jsx)("div",{className:"main-item-block",children:Object(g.jsx)("div",{children:d>900?Object(g.jsx)("button",{style:j,onClick:()=>m(t.id,t.branchId,t.type),children:"NODE"===t.type?Object(g.jsx)("span",{style:b,children:a>1e3&&t.title.length>90?t.title.slice(0,90)+"...":a<1e3&&t.title.length>60?t.title.slice(0,60)+"...":t.title}):Object(g.jsx)("span",{style:p,children:a>1e3&&t.title.length>190?t.title.slice(0,190)+"...":a<1e3&&t.title.length>110?t.title.slice(0,110)+"...":t.title})}):Object(g.jsx)("button",{className:"buttonStylesA",onClick:()=>m(t.id,t.branchId,t.type),children:Object(g.jsx)("span",{className:"font-for-button",children:a<1e3&&t.title.length>60?t.title.slice(0,60)+"...":t.title})})})})})};n(24);var I=e=>{let{title:t}=e;return Object(g.jsxs)("div",{className:"component-title",children:[Object(g.jsx)("h1",{className:"title-style",children:t}),Object(g.jsx)("div",{className:"line-for-title"})]})};n(25);const v=e=>{let{children:t}=e;const[n,s]=Object(i.useState)(null);return Object(i.useEffect)((()=>{const e=window.outerWidth;s(e)}),[]),Object(g.jsx)("div",{children:n>900?Object(g.jsx)("button",{style:O,children:Object(g.jsx)("span",{style:m,children:t})}):Object(g.jsx)("button",{className:"button-main",children:Object(g.jsx)("span",{className:"title-button-back",children:t})})})};var y=e=>{let{data:t,handleIdChange:n,setCurrentPage:s,setId:c,setLastID:l,setBranchID:r,widthDisplay:o,heightDisplay:a,setShowPopupDesktop:d,config:u,currentItems:j,setCurrentItems:h,setServicePage:b,setParentID:p}=e;const[x,y]=Object(i.useState)(null);Object(i.useEffect)((()=>{p(null)}),[]),Object(i.useEffect)((()=>{if(null!==u&&o>900&&j>0){const e=setInterval((()=>{d(!0)}),u.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}),[j]),Object(i.useEffect)((()=>{t&&y(t)}),[t]);return Object(g.jsxs)("div",{style:{flexGrow:1,position:"relative",display:"flex",flexDirection:"column",flexGrow:1},children:[Object(g.jsx)("div",{className:"block-title",children:Object(g.jsx)(I,{title:"\u0412\u0418\u0411\u0415\u0420\u0406\u0422\u042c \u0421\u041f\u041e\u0416\u0418\u0412\u0410\u0427\u0410"})}),Object(g.jsx)("div",{className:(null===x||void 0===x?void 0:x.length)>2?"main-menu-item":"",children:Object(g.jsx)("main",{className:"main-size-box",children:null!==x&&x.slice(6*j,6*(j+1)).map((e=>Object(g.jsx)("div",{className:"main-space",children:Object(g.jsx)(f,{item:e,handleIdChange:n,setCurrentPage:s,setId:c,setLastID:l,setBranchID:r,widthDisplay:o,data:t,heightDisplay:a,setServicePage:b},e.id)})))})}),Object(g.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(g.jsxs)("div",{className:"main-menu-block-button",children:[6*j>5?Object(g.jsx)("div",{onClick:()=>(2===j&&h(1),void(1===j&&h(0))),children:Object(g.jsx)(v,{children:"\u043d\u0430\u0437\u0430\u0434"})}):Object(g.jsx)("div",{}),x&&6*(j+1)<x.length?Object(g.jsx)("div",{className:"button-next-block",onClick:()=>{h((e=>e+1))},children:Object(g.jsx)("button",{style:O,children:Object(g.jsx)("span",{style:m,children:"\u0414\u0430\u043b\u0456"})})}):Object(g.jsx)("div",{})]})})]})},P=n(2),T=n.n(P);n(45);var D=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"header-terminal",children:Object(g.jsxs)("header",{style:{boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",width:"100%",height:"96px",left:"0px",top:"0px",backgroundColor:"#FFF"},children:[Object(g.jsx)("img",{src:"assets/headerVector.svg",alt:"VECTOR",style:{position:"relative",width:"100%",height:"100%",objectFit:"cover"}}),Object(g.jsx)("img",{src:"assets/headerFixed.png",alt:"LOGO",className:"logo-img"})]})}),Object(g.jsx)("div",{className:"header-desktop",children:Object(g.jsx)("img",{src:"assets/logoLOE.svg",alt:"",className:"logoLOE"})})]})};n(46);var E=e=>{let{config:t}=e;const[n,s]=Object(i.useState)(null!==t&&t.REACT_APP_TIME_DOWN);return Object(i.useEffect)((()=>{const e=setTimeout((()=>{s(n-1)}),1e3);return()=>clearTimeout(e)}),[n]),Object(g.jsxs)("div",{className:"block-popup",children:[Object(g.jsxs)("span",{className:"popup-text",children:["\u0427\u0435\u0440\u0435\u0437 ",n," \u0441\u0435\u043a\u0443\u043d\u0434 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u0442\u044c\u0441\u044f \u0434\u043e \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u043e\u0433\u043e \u0435\u043a\u0440\u0430\u043d\u0443."]}),Object(g.jsx)("span",{className:"popup-text",children:"\u041d\u0430\u0442\u0438\u0441\u043d\u0456\u0442\u044c \u043d\u0430 \u0435\u043a\u0440\u0430\u043d, \u044f\u043a\u0449\u043e \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0437\u0430\u043b\u0438\u0448\u0438\u0442\u0438\u0441\u044c \u043d\u0430 \u0446\u0456\u0439 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456."})]})};var C=e=>{let{title:t,setCurrentPage:n,widthDisplay:s,setShowPopupDesktop:c,config:l}=e;const[r,o]=Object(i.useState)(!1),[a,d]=Object(i.useState)(null);Object(i.useEffect)((()=>{if(null!==l){if(s>900){const e=setInterval((()=>{c(!0)}),l.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}{const e=setInterval((()=>{o(!0)}),l.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}}),[]),Object(i.useEffect)((()=>{if(null!==l){let e;return r&&(e=setTimeout((()=>{n("main")}),1e3*l.REACT_APP_TIME_DOWN),d(e)),()=>{e&&clearTimeout(e)}}}),[r]);return Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",position:"relative"},onClick:()=>{o(!1),a&&(clearTimeout(a),d(null))},children:[Object(g.jsxs)("div",{className:"block-title",children:[Object(g.jsx)("div",{style:{paddingTop:30,paddingBottom:30},children:Object(g.jsx)(I,{title:"\u0417\u0410\u0412\u0406\u0422\u0410\u0419\u0422\u0415 \u041f\u0406\u0417\u041d\u0406\u0428\u0415"})}),Object(g.jsx)("div",{style:{paddingTop:30},children:Object(g.jsx)("div",{className:"block-title-item",children:Object(g.jsx)("span",{className:"title-item",children:null!==t&&t.length>50?t.slice(0,50)+"...":t})})})]}),r&&Object(g.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(g.jsx)(E,{config:l})}),Object(g.jsx)("div",{className:"no-time-block",children:Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("div",{children:Object(g.jsx)("span",{className:"font-title",children:null!==l&&l.NOT_TIME})}),Object(g.jsx)("div",{className:"div-line-for-no-time",children:Object(g.jsx)("div",{style:{width:"307px",height:5,backgroundColor:"black"}})}),Object(g.jsx)("div",{style:{textAlign:"center"},children:Object(g.jsx)("span",{className:"font-title",children:null!==l&&l.VISIT_WEBSITE})}),Object(g.jsx)("div",{style:{paddingTop:"30px"},children:Object(g.jsx)("div",{style:{textDecorationColor:"#83BD00"},children:Object(g.jsx)("span",{className:"link-size",children:"www.loe.lviv.ua/equeue"})})})]})}),Object(g.jsx)("div",{className:"button-for-choiceItem",children:Object(g.jsx)("div",{children:s>900?Object(g.jsx)("button",{style:x,onClick:()=>n("main"),children:Object(g.jsx)("span",{style:m,children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0435 \u043c\u0435\u043d\u044e"})}):Object(g.jsx)("button",{className:"buttonStylesC",onClick:()=>n("main"),children:Object(g.jsx)("span",{className:"button-name",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0435 \u043c\u0435\u043d\u044e"})})})})]})},A=n(17),w=n.n(A);n(47);var S=()=>Object(g.jsx)("div",{className:"loading",children:Object(g.jsx)("div",{className:"loader"})});function _(e){for(var t=(new TextEncoder).encode(e),n=0,i=0;i<t.length;i++)n^=t[i];return console.log("\u0440\u043e\u0437\u0440\u0430\u0445\u0443\u043d\u043e\u043a",n.toString(16)),n.toString(16)}var k=e=>{let{id:t,branchID:n,serviceID:s,date:c,time:l,parendID:r,setCurrentPage:o,token:a,widthDisplay:d,setShowPopupDesktop:u,config:j}=e;const[h,b]=Object(i.useState)(null),[p,O]=Object(i.useState)(!1),[f,v]=Object(i.useState)(null),[y,P]=Object(i.useState)(null),[D,A]=Object(i.useState)(null),[k,N]=Object(i.useState)(null),[R,B]=Object(i.useState)(!1),[M,L]=Object(i.useState)(void 0),z=Object(i.useRef)();console.log("electron",window.electronAPI),Object(i.useEffect)((()=>{if(null!=j){const e="".concat(j.REACT_APP_API_URL,"/api/terminal/read/service-node/list"),t={parentId:r,branchId:n},i={Authorization:"Basic Og==","Content-Type":"application/json"};T.a.post(e,t,{headers:i}).then((e=>{P(e.data.res)})).catch((e=>{console.error("Error:",e.response?e.response.data:e.message)}))}}),[]),Object(i.useEffect)((()=>{null===y||void 0===y||y.map((e=>{e.id===t&&b(e.title)}))}),[y]),Object(i.useEffect)((()=>{if(null!=j){if(null===a)return;const e={Authorization:a,"Content-Type":"application/json"},t={id:s};T.a.post("".concat(j.REACT_APP_API_URL,"/api/queue-config/read/service-ticketfield/list"),t,{headers:e}).then((e=>{const t=e.data.res.map((e=>({id:e.id,name:e.name,value:e.name})));A(t)})).catch((e=>{console.log("error",e)}))}}),[s,a]),Object(i.useEffect)((()=>{if(null!=j){if(null===D||null===a)return;const e={Authorization:a,"Content-Type":"application/json"},t={branchId:n,serviceId:s,date:c,startTime:l,fieldList:D};T.a.post("".concat(j.REACT_APP_API_URL,"/api/pre-registration/v2/create/ticket"),t,{headers:e}).then((e=>{N(e.data),F(e.data&&e.data.ticketId)})).catch((e=>{console.log("error",e)}))}}),[n,s,c,l,D,a]);const F=e=>{T.a.post("".concat(j.REACT_APP_API_URL,"/api/terminal/read/printer-ticket-data"),{ticketId:e},{"Content-Type":"application/json"}).then((e=>{W(e.data.res)})).catch((e=>console.log("error",e.message)))},U=function(e){var t;if(!e)return;const n=e.textModel,i=e.view,s=e.imageModel;let c=decodeURIComponent(atob(i).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));for(var l in n)if(c.indexOf(l)>=0){let e=null;e=n[l],c=c.replace("${"+l+"}"," "+e+" ")}return s&&s.img&&(c=c.replace("${img}","data:image/png;base64,"+s.img)),{data:c,height:G(null!==(t=n.serviceTitle)&&void 0!==t?t:"")}};function G(e){return e.length<=40?350:e.length>40&&e.length<=60?370:(e.length>60&&e.length,390)}console.log("widthDisplay",d);const W=e=>{console.log("Print function is called",d);const t={Authorization:a,Accept:"application/json","Content-Type":"application/json","Access-Control-Request-Method":"POST","Access-Control-Allow-Origin":"*","Access-Control-Request-Headers":"Content-Type, Authorization"};(function(e){return new Promise(((t,n)=>{var i=document.getElementById("printContainer");if(i.innerHTML=e,d>476){const e=document.querySelector(".root > img");e.style.marginLeft="120px;",e.style.marginTop="15px"}if(d<476){const e=document.querySelector(".root > img");e&&(e.style.height="30px",e.style.marginLeft="62px",e.style.marginTop="15px"),document.querySelectorAll(".root .center-row p").forEach((e=>{e&&(e.style.fontSize="12px",e.style.marginTop=0,e.style.lineHeight=1,e.style.paddingBottom="3px")}));const t=document.querySelectorAll(".root .center-row p span");t.length>0&&(t[0].style.fontSize="25px",t[0].style.lineHeight=1,t.length>=5&&(t[1].style.fontSize="12px",t[4].style.fontSize="25px",t[4].style.lineHeight=1));const n=document.querySelectorAll(".root .bottom-row p span");n.length>1&&(n[0].style.fontSize="12px",n[0].style.lineHeight=1,n[1].style.fontSize="8px",n[1].style.lineHeight=1);const i=document.querySelectorAll(".root .center-row hr");i.length>4&&(i[3].style.display="none",i[4].style.display="none")}var s=i.offsetWidth,c=i.offsetHeight;w()(i,{width:s,height:c}).then((function(e){var n=e.toDataURL("image/jpeg");if(console.log("Generated image base64",n),t(n),d>1300&&void 0===window.electronAPI){let t=window.open("","_blank");const i=.7*e.width,s=.7*e.height,c=(window.innerWidth,(window.innerHeight-s)/2);t.document.write('<html><body style="text-align: center; padding-top: '.concat(c,"px;\"><img src='").concat(n,"' width='").concat(i,"' height='").concat(s,"'/></body></html>")),t.document.close(),t.focus(),t.onload=function(){t.print(),t.close()}}})).catch((function(e){console.error("Error in html2canvas",e),n(e)}))}))})(U(e).data).then((n=>{console.log("JPEG has been generated",d);const i=new Image;i.onload=()=>{const n=document.createElement("canvas"),s=n.getContext("2d");n.width=384,n.height=384/i.width*i.height,s.drawImage(i,0,0,n.width,n.height);const c=n.toDataURL("image/jpeg"),l="<receipt><image>".concat(function(e){var t="data:image/jpeg;base64,";return e.startsWith(t)?e.slice(23):e}(c),"</image></receipt>"),r=d<801?{method:"PRT",step:0,reference:"000000000000000000000000000000000001",params:{receipt:l,lrc:_(l)}}:Object.assign({},e);(d<801?null!==j&&fetch("".concat(j.REACT_APP_VERIFONE_PRINT_URL,"/api/print"),{headers:t,method:"post",mode:"no-cors",body:JSON.stringify(r)}):T.a.post(null!==j&&"".concat(j.REACT_APP_LOCAL_URL,"/api/printer/print"),r,{headers:t,timeout:null!==j&&j.REACT_APP_TIMEOUT_PRINT_REQUEST?null!==j&&+j.REACT_APP_TIMEOUT_PRINT_REQUEST:1e4})).then((e=>{if(405===e.status&&L(!0),200===e.status&&L(!1),200!==e.status)throw new Error("Error print ticket");return e})).catch((e=>console.log("error",e.message)))},i.src=n})).catch((e=>{console.error("error",e.message)}))};Object(i.useEffect)((()=>{if(null!==j){const e=setTimeout((()=>{B(!0)}),j.REACT_APP_ERROR_TIMEOUT);return()=>clearTimeout(e)}}),[]),Object(i.useEffect)((()=>{if(null!==j){if(d>900){const e=setInterval((()=>{u(!0)}),j.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}{const e=setInterval((()=>{O(!0)}),j.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}}),[]),Object(i.useEffect)((()=>{if(null!==j){let e;return p&&(e=setTimeout((()=>{o("main")}),1e3*j.REACT_APP_TIME_DOWN),v(e)),()=>{e&&clearTimeout(e)}}}),[p]);return Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",position:"relative",flexGrow:1},onClick:()=>{O(!1),f&&(clearTimeout(f),v(null))},children:[p&&Object(g.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10},children:Object(g.jsx)(E,{config:j})}),k?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"block-title",children:[Object(g.jsx)("div",{className:"space-page-title",children:Object(g.jsx)(I,{title:"\u041e\u0422\u0420\u0418\u041c\u0410\u0419\u0422\u0415 \u0422\u0410\u041b\u041e\u041d"})}),Object(g.jsx)("div",{className:"space-for-title-ticket",children:Object(g.jsx)("div",{className:"block-title-item",children:Object(g.jsx)("span",{className:"title-item",children:null!==h&&h.length>50?h.slice(0,50)+"...":h})})})]}),Object(g.jsx)("div",{style:d>900?{paddingTop:"20px",width:"100%",display:"flex",justifyContent:"center",flexGrow:1}:{},children:Object(g.jsx)("div",{ref:z,className:"ticket-block",children:Object(g.jsx)("div",{id:"printContainer",className:"print-containerA"})})}),!0===M?Object(g.jsx)("div",{className:"error-message-for-print",children:Object(g.jsx)("span",{className:"error-message-for-print-title",children:"\u041d\u0410\u0416\u0410\u041b\u042c \u0421\u0422\u0410\u041b\u0410\u0421\u042f \u041f\u041e\u041c\u0418\u041b\u041a\u0410 \u0414\u0420\u0423\u041a\u0423, \u0421\u0424\u041e\u0422\u041e\u0413\u0420\u0410\u0424\u0423\u0419\u0422\u0415 \u0426\u0415\u0419 \u0422\u0410\u041b\u041e\u041d \u0422\u0410 \u041f\u041e\u041a\u0410\u0416\u0406\u0422\u042c \u0424\u041e\u0422\u041e \u0421\u041f\u0406\u0412\u0420\u041e\u0411\u0406\u0422\u041d\u0418\u041a\u0423"})}):Object(g.jsx)("div",{className:"block-button-ticket-page",children:Object(g.jsx)("div",{style:{width:"90%",display:"flex",justifyContent:"center"},children:Object(g.jsx)("div",{children:d>900?Object(g.jsx)("button",{style:x,onClick:()=>o("main"),children:Object(g.jsx)("span",{style:m,children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0435 \u043c\u0435\u043d\u044e"})}):Object(g.jsx)("button",{className:"buttonStylesC",onClick:()=>o("main"),children:Object(g.jsx)("span",{className:"button-name",children:"\u0413\u043e\u043b\u043e\u0432\u043d\u0435 \u043c\u0435\u043d\u044e"})})})})})]}):R?Object(g.jsx)(C,{title:h,id:t,branchId:n,currentID:t,setCurrentPage:o,widthDisplay:d,setShowPopupDesktop:u,config:j}):Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(S,{})})]})};var N=e=>{let{time:t,id:n,currentID:s,branchId:c,serviceId:l,date:r,setCurrentPage:o,setParentID:a,setBranchID:d,setId:u,getDate:j,getTime:p,setServiceID:O,resetTimer:m,currentItems:x,itemsPerItem:f,widthDisplay:I,config:v}=e;const y=e=>{o("ticket"),a(n),d(c),u(s),p(e),j(r),O(l),m()},[P,T]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{if(null!==v){const e=setTimeout((()=>{T(!0)}),v.REACT_APP_ERROR_TIMEOUT);return()=>clearTimeout(e)}}),[]),Object(g.jsx)("div",{className:"block-choice-time-item",children:t&&t.length>0?t.slice(x*f,(x+1)*f).map(((e,t)=>{const n=e.startTime.slice(0,5);return Object(g.jsx)("div",{className:"block-choice-time",children:I>900?Object(g.jsx)("button",{style:h,onClick:()=>y(e.startTime),children:Object(g.jsx)("span",{style:b,children:n})}):Object(g.jsx)("button",{className:"buttonStylesB",onClick:()=>y(e.startTime),children:Object(g.jsx)("span",{className:"time-for-choice",children:n})})})})):P&&Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",position:"relative"},children:Object(g.jsx)("div",{className:"no-time-block",children:Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("div",{children:Object(g.jsx)("span",{className:"font-title",children:null!==v&&v.NOT_TIME})}),Object(g.jsx)("div",{className:"div-line-for-no-time",children:Object(g.jsx)("div",{style:{width:"307px",height:5,backgroundColor:"black"}})}),Object(g.jsx)("div",{style:{textAlign:"center"},children:Object(g.jsx)("span",{className:"font-title",children:null!==v&&v.VISIT_WEBSITE})}),Object(g.jsx)("div",{style:{paddingTop:"30px"},children:Object(g.jsx)("div",{style:{textDecorationColor:"#83BD00"},children:Object(g.jsx)("span",{className:"link-size",children:"www.loe.lviv.ua/equeue"})})})]})})})})};n(48);var R=e=>{let{setCurrentPage:t,setParentID:n,setBranchID:s,id:c,branchID:l,setId:r,parendID:o,setServiceID:a,getDate:d,getTime:u,token:j,widthDisplay:h,setShowPopupDesktop:b,servicePage:p,config:x,heightDisplay:f}=e;const[y,P]=Object(i.useState)(null),[D,C]=Object(i.useState)(!1),[A,w]=Object(i.useState)(null),[S,_]=Object(i.useState)(null),[k,R]=Object(i.useState)(null),[B,M]=Object(i.useState)(null),[L,z]=Object(i.useState)(null),[F,U]=Object(i.useState)(null),[G,W]=Object(i.useState)(null),[H,q]=Object(i.useState)(0),V=f<950?12:16;Object(i.useEffect)((()=>{null===S||void 0===S||S.map((e=>{e.id===c&&(P(e.title),R(e.branchId),M(e.serviceId))}))}),[S]),Object(i.useEffect)((()=>{if(null!==x){const e="".concat(x.REACT_APP_API_URL,"/api/terminal/read/service-node/list"),t={parentId:o,branchId:l},n={Authorization:"Basic Og==","Content-Type":"application/json"};T.a.post(e,t,{headers:n}).then((e=>{_(e.data.res)})).catch((e=>{console.error("Error:",e.response?e.response.data:e.message)}))}}),[x]),Object(i.useEffect)((()=>{if(null!==x){if(null===k||null===B)return;const e={Authorization:j,"Content-Type":"application/json"},t={branchId:k,serviceId:B};T.a.post("".concat(x.REACT_APP_API_URL,"/api/pre-registration/v2/read/date/list"),t,{headers:e}).then((e=>{const t=e.data,n=Object.keys(t).map((e=>t[e]))[0];z(n)})).catch((e=>{console.log("error",e)}))}}),[k,B]),Object(i.useEffect)((()=>{const e=(new Date).toISOString().split("T")[0];!0!==(null===L||void 0===L?void 0:L.includes(e))&&U(e)}),[L]),Object(i.useEffect)((()=>{if(null!==x){if(null===k||null===B||null===F)return;const e={Authorization:j,"Content-Type":"application/json"},t={branchId:k,serviceId:B,date:F};T.a.post("".concat(x.REACT_APP_API_URL,"/api/pre-registration/v2/read/time/list"),t,{headers:e}).then((e=>{const t=e.data,n=Object.keys(t).map((e=>t[e]))[0];W(n)})).catch((e=>{console.log("error",e)}))}}),[k,B,F]),Object(i.useEffect)((()=>{if(null!==x){if(h>900){const e=setInterval((()=>{b(!0)}),x.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}{const e=setInterval((()=>{C(!0)}),x.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}}),[]),Object(i.useEffect)((()=>{if(null!==x){let e;return D&&(e=setTimeout((()=>{t("main")}),1e3*x.REACT_APP_TIME_DOWN),w(e)),()=>{e&&clearTimeout(e)}}}),[D]);const J=()=>{C(!1),A&&(clearTimeout(A),w(null))};return Object(g.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",flexGrow:1},onClick:J,children:[Object(g.jsxs)("div",{style:{width:"100%",position:"relative",flexGrow:1},children:[Object(g.jsxs)("div",{className:"block-title",children:[Object(g.jsx)(I,{title:"\u0412\u0418\u0411\u0415\u0420\u0406\u0422\u042c \u0427\u0410\u0421"}),Object(g.jsx)("div",{className:"space-block-title-item",children:Object(g.jsx)("div",{className:"block-title-item",children:Object(g.jsx)("span",{className:"title-item",children:null!==y&&y.length>50?y.slice(0,50)+"...":y})})})]}),D&&Object(g.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(g.jsx)(E,{config:x})}),Object(g.jsx)("div",{className:"block-choiceTime",children:Object(g.jsx)(N,{time:G,id:o,setId:r,currentID:c,branchId:k,serviceId:B,setCurrentPage:t,setParentID:n,setBranchID:s,date:F,getTime:u,getDate:d,setServiceID:a,resetTimer:J,currentItems:H,itemsPerItem:V,widthDisplay:h,config:x})})]}),Object(g.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(g.jsxs)("div",{className:"button-for-choiceTime",children:[Object(g.jsx)("div",{onClick:()=>(H>0&&q(H-1),void(0===H&&(p>=4&&(r(o),t("extraNode")),3===p&&(r(o),t("itemMenu")),2===p&&(r(o),t("subMenu")),1===p&&(r(o),t("main"))))),children:Object(g.jsx)(v,{children:"\u043d\u0430\u0437\u0430\u0434"})}),G&&(H+1)*V<G.length?Object(g.jsx)("div",{className:"button-next-block",onClick:()=>{q((e=>e+1))},children:Object(g.jsx)("button",{style:O,children:Object(g.jsx)("span",{style:m,children:"\u0414\u0430\u043b\u0456"})})}):Object(g.jsx)("div",{})]})})]})};var B=e=>{let{item:t,parentID:n,setId:i,setCurrentPage:s,setParentID:c,setBranchID:l,setLastID:r,resetTimer:o,heightDisplay:a,widthDisplay:d,setServicePage:u,setItemMenuId:h}=e;const O=(e,t,a,d)=>{"SERVICE"===d&&u(2),i(t),s("NODE"===d?"itemMenu":"choiceTime"),c(e),l(a),r(n),h(t),o()};return Object(g.jsx)("div",{className:"sub-menu-item-block",children:t?d>900?Object(g.jsx)("button",{style:j,onClick:()=>O(t.parentId,t.id,t.branchId,t.type),children:"NODE"===t.type?Object(g.jsx)("span",{style:b,children:a>1e3&&t.title.length>90?t.title.slice(0,90)+"...":a<1e3&&t.title.length>60?t.title.slice(0,60)+"...":t.title}):Object(g.jsx)("span",{style:p,children:a>1e3&&t.title.length>190?t.title.slice(0,190)+"...":a<1e3&&t.title.length>110?t.title.slice(0,110)+"...":t.title})}):Object(g.jsx)("button",{className:"buttonStylesA",onClick:()=>O(t.parentId,t.id,t.branchId,t.type),children:Object(g.jsx)("span",{className:"font-for-button",children:a<1e3&&t.title.length>60?t.title.slice(0,60)+"...":t.title})}):Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:150,textAlign:"center"},children:Object(g.jsx)(S,{})})})};n(49);var M=e=>{let{id:t,setId:n,setCurrentPage:s,setParentID:c,setBranchID:l,setLastID:r,data:o,setSubMenuData:a,branchID:d,widthDisplay:u,setShowPopupDesktop:j,config:h,heightDisplay:b,setServicePage:p,setItemMenuId:x}=e;const[f,y]=Object(i.useState)(!1),[P,D]=Object(i.useState)(null),[C,A]=Object(i.useState)(null),[w,S]=Object(i.useState)(0);Object(i.useEffect)((()=>{if(null!==h){if(u>900){const e=setInterval((()=>{j(!0)}),h.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}{const e=setInterval((()=>{y(!0)}),h.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}}),[]),Object(i.useEffect)((()=>{if(null!==h){let e;return f&&(e=setTimeout((()=>{s("main")}),1e3*h.REACT_APP_TIME_DOWN),D(e)),()=>{e&&clearTimeout(e)}}}),[f]);const _=()=>{y(!1),P&&(clearTimeout(P),D(null))};Object(i.useEffect)((()=>{if(o&&null!==h){const e="".concat(h.REACT_APP_API_URL,"/api/terminal/read/service-node/list"),n={Authorization:"Basic Og==","Content-Type":"application/json"},i={parentId:t,branchId:d};return T.a.post(e,i,{headers:n}).then((e=>(200===e.status&&(A(e.data.res),a(e.data.res)),null))).catch((e=>(console.error("Error:",e),null)))}}),[o]);return Object(g.jsxs)("div",{className:"main-block-sub-menu",onClick:_,onTouchMove:_,children:[Object(g.jsx)("div",{className:"block-title",children:Object(g.jsx)(I,{title:"\u0412\u0418\u0411\u0415\u0420\u0406\u0422\u042c \u041f\u041e\u0421\u041b\u0423\u0413\u0423"})}),f&&Object(g.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:10},children:Object(g.jsx)(E,{config:h})}),Object(g.jsx)("div",{className:"sub-menu-item",children:Object(g.jsx)("div",{className:"sub-menu-size-box",children:null!==C&&C.slice(6*w,6*(w+1)).map((e=>e.parentId===t?Object(g.jsx)("div",{className:"space-sub-menu-item",children:Object(g.jsx)(B,{item:e,parentID:t,setId:n,setCurrentPage:s,setParentID:c,setBranchID:l,setLastID:r,resetTimer:_,heightDisplay:b,widthDisplay:u,setServicePage:p,setItemMenuId:x},e.id)}):null))})}),Object(g.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(g.jsxs)("div",{className:"sub-menu-block-button",children:[Object(g.jsx)("div",{onClick:()=>(w>0&&S(w-1),void(0===w&&s("main"))),children:Object(g.jsx)(v,{children:"\u043d\u0430\u0437\u0430\u0434"})}),C&&6*(w+1)<C.length?Object(g.jsx)("div",{className:"button-next-block",onClick:()=>{S((e=>e+1))},children:Object(g.jsx)("button",{style:O,children:Object(g.jsx)("span",{style:m,children:"\u0414\u0430\u043b\u0456"})})}):Object(g.jsx)("div",{})]})})]})};var L=e=>{let{item:t,setCurrentPage:n,setParentID:i,setBranchID:s,setId:c,resetTimer:l,widthDisplay:r,heightDisplay:o,setServicePage:a}=e;const d=(e,t,r,o)=>{"SERVICE"===o&&a(3),n("NODE"===o?"extraNode":"choiceTime"),i(e),s(t),c(r),l()};return Object(g.jsx)("div",{style:{boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"},children:t?Object(g.jsx)("div",{children:r>900?Object(g.jsx)("button",{style:j,onClick:()=>d(t.parentId,t.branchId,t.id,t.type),children:Object(g.jsx)("div",{style:{textAlign:"center",paddingLeft:"10px",paddingRight:"10px"},children:"NODE"===t.type?Object(g.jsx)("span",{style:b,children:o>1e3&&t.title.length>90?t.title.slice(0,90)+"...":o<1e3&&t.title.length>60?t.title.slice(0,60)+"...":t.title}):Object(g.jsx)("span",{style:p,children:o>1e3&&t.title.length>190?t.title.slice(0,190)+"...":o<1e3&&t.title.length>110?t.title.slice(0,110)+"...":t.title})})}):Object(g.jsx)("button",{className:"buttonStylesA",onClick:()=>d(t.parentId,t.branchId,t.id,t.type),children:Object(g.jsx)("span",{className:"font-for-button",children:t.title.length>60?t.title.slice(0,40)+"...":r<475&&t.title.length>50?t.title.slice(0,35)+"...":t.title})})}):Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:150,textAlign:"center"},children:Object(g.jsx)(S,{})})})};n(50);var z=e=>{let{setCurrentPage:t,setParentID:n,setBranchID:s,id:c,branchID:l,setId:r,lastID:o,subMenuData:a,widthDisplay:d,setShowPopupDesktop:u,config:j,heightDisplay:h,setServicePage:b}=e;const[p,x]=Object(i.useState)(null),[f,y]=Object(i.useState)(null),[P,D]=Object(i.useState)(!1),[C,A]=Object(i.useState)(null),[w,S]=Object(i.useState)(0);Object(i.useEffect)((()=>{null===a||void 0===a||a.map((e=>{e.id===c&&y(e.title)}))}),[]),Object(i.useEffect)((()=>{if(null!==j){const e="".concat(j.REACT_APP_API_URL,"/api/terminal/read/service-node/list"),t={parentId:c,branchId:l},n={Authorization:"Basic Og==","Content-Type":"application/json"};T.a.post(e,t,{headers:n}).then((e=>{x(e.data.res)})).catch((e=>{console.error("Error:",e.response?e.response.data:e.message)}))}}),[c,l]),Object(i.useEffect)((()=>{if(null!==j){if(d>900){const e=setInterval((()=>{u(!0)}),j.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}{const e=setInterval((()=>{D(!0)}),j.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}}),[]),Object(i.useEffect)((()=>{if(null!==j){let e;return P&&(e=setTimeout((()=>{t("main")}),1e3*j.REACT_APP_TIME_DOWN),A(e)),()=>{e&&clearTimeout(e)}}}),[P]);const _=()=>{D(!1),C&&(clearTimeout(C),A(null))};return Object(g.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",flexGrow:1},onClick:_,children:[Object(g.jsxs)("div",{className:"block-title",children:[Object(g.jsx)(I,{title:"\u0412\u0418\u0411\u0415\u0420\u0406\u0422\u042c \u041f\u041e\u0421\u041b\u0423\u0413\u0423"}),Object(g.jsx)("div",{className:"space-block-title-item",children:Object(g.jsx)("div",{className:"block-title-item",children:Object(g.jsx)("span",{className:"title-item",children:f})})})]}),P&&Object(g.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(g.jsx)(E,{config:j})}),Object(g.jsx)("div",{className:"item-menu",children:Object(g.jsx)("div",{className:"item-menu-size-block",children:p&&p.slice(6*w,6*(w+1)).map((e=>e.parentId===c?Object(g.jsx)("div",{className:"space-sub-menu-item",children:Object(g.jsx)(L,{item:e,setCurrentPage:t,setParentID:n,setBranchID:s,setId:r,resetTimer:_,widthDisplay:d,heightDisplay:h,setServicePage:b},e.id)}):null))})}),Object(g.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(g.jsxs)("div",{className:"block-button-item-menu",children:[Object(g.jsx)("div",{onClick:()=>(w>0&&S(w-1),void(0===w&&(r(o),t("subMenu")))),children:Object(g.jsx)(v,{children:"\u043d\u0430\u0437\u0430\u0434"})}),p&&6*(w+1)<p.length?Object(g.jsx)("div",{className:"button-next-block",onClick:()=>{S((e=>e+1))},children:Object(g.jsx)("button",{style:O,children:Object(g.jsx)("span",{style:m,children:"\u0414\u0430\u043b\u0456"})})}):Object(g.jsx)("div",{})]})})]})};n(51),n(52);var F=e=>{let{item:t,setCurrentPage:n,setParentID:i,setBranchID:s,setId:c,resetTimer:l,widthDisplay:r,heightDisplay:o,setServicePage:a,servicePage:d}=e;const u=(e,t,r,o)=>{"SERVICE"===o&&a(d>=4?d+1:4),n("NODE"===o?"extraNode":"choiceTime"),i(e),s(t),c(r),l()};return Object(g.jsx)("div",{style:{boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",flex:1,justifyContent:"center",alignItems:"center",textAlign:"center"},children:t?Object(g.jsx)("div",{children:r>900?Object(g.jsx)("button",{style:j,onClick:()=>u(t.parentId,t.branchId,t.id,t.type),children:Object(g.jsx)("div",{style:{textAlign:"center",paddingLeft:"10px",paddingRight:"10px"},children:"NODE"===t.type?Object(g.jsx)("span",{style:b,children:o>1e3&&t.title.length>90?t.title.slice(0,90)+"...":o<1e3&&t.title.length>60?t.title.slice(0,60)+"...":t.title}):Object(g.jsx)("span",{style:p,children:o>1e3&&t.title.length>190?t.title.slice(0,190)+"...":o<1e3&&t.title.length>110?t.title.slice(0,110)+"...":t.title})})}):Object(g.jsx)("button",{className:"buttonStylesA",onClick:()=>u(t.parentId,t.branchId,t.id,t.type),children:Object(g.jsx)("span",{className:"font-for-button",children:t.title.length>60?t.title.slice(0,40)+"...":r<475&&t.title.length>50?t.title.slice(0,35)+"...":t.title})})}):Object(g.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:150,textAlign:"center"},children:Object(g.jsx)(S,{})})})};var U=e=>{let{setCurrentPage:t,setParentID:n,setBranchID:s,id:c,branchID:l,setId:r,subMenuData:o,widthDisplay:a,setShowPopupDesktop:d,config:u,heightDisplay:j,setServicePage:h,servicePage:b,setParentIdHistory:p,parentIdHistory:x,itemMenuId:f}=e;const[y,P]=Object(i.useState)(null),[D,C]=Object(i.useState)(null),[A,w]=Object(i.useState)(!1),[S,_]=Object(i.useState)(null),[k,N]=Object(i.useState)(0);Object(i.useEffect)((()=>{x[x.length-1]!==c&&p((e=>[...e,c]))}),[c,x,p]),Object(i.useEffect)((()=>{null===o||void 0===o||o.map((e=>{e.id===c&&C(e.title)}))}),[]),Object(i.useEffect)((()=>{if(null!==u){const e="".concat(u.REACT_APP_API_URL,"/api/terminal/read/service-node/list"),t={parentId:c,branchId:l},n={Authorization:"Basic Og==","Content-Type":"application/json"};T.a.post(e,t,{headers:n}).then((e=>{P(e.data.res)})).catch((e=>{console.error("Error:",e.response?e.response.data:e.message)}))}}),[D,c,l]),Object(i.useEffect)((()=>{if(null!==u){if(a>900){const e=setInterval((()=>{d(!0)}),u.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}{const e=setInterval((()=>{w(!0)}),u.REACT_APP_TIMEOUT_PAGE);return()=>clearInterval(e)}}}),[]),Object(i.useEffect)((()=>{if(null!==u){let e;return A&&(e=setTimeout((()=>{t("main")}),1e3*u.REACT_APP_TIME_DOWN),_(e)),()=>{e&&clearTimeout(e)}}}),[A]);const R=()=>{w(!1),S&&(clearTimeout(S),_(null))};return Object(g.jsxs)("div",{style:{position:"relative",display:"flex",flexDirection:"column",flexGrow:1},onClick:R,children:[Object(g.jsxs)("div",{className:"block-title",children:[Object(g.jsx)(I,{title:"\u0412\u0418\u0411\u0415\u0420\u0406\u0422\u042c \u041f\u041e\u0421\u041b\u0423\u0413\u0423"}),Object(g.jsx)("div",{className:"space-block-title-item",children:Object(g.jsx)("div",{className:"block-title-item",children:Object(g.jsx)("span",{className:"title-item",children:D})})})]}),A&&Object(g.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(g.jsx)(E,{config:u})}),Object(g.jsx)("div",{className:"item-menu",children:Object(g.jsx)("div",{className:"item-menu-size-block",children:y&&y.slice(6*k,6*(k+1)).map((e=>e.parentId===c?Object(g.jsx)("div",{className:"space-sub-menu-item",children:Object(g.jsx)(F,{item:e,setCurrentPage:t,setParentID:n,setBranchID:s,setId:r,resetTimer:R,widthDisplay:a,heightDisplay:j,setServicePage:h,servicePage:b,setParentIdHistory:p},e.id)}):null))})}),Object(g.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(g.jsxs)("div",{className:"block-button-item-menu",children:[Object(g.jsx)("div",{onClick:()=>{k>0?N(k-1):p((e=>{if(e.length>1){const t=e.slice(0,-1),n=t[t.length-1];return r(n),t}return r(f),t("itemMenu"),[]}))},children:Object(g.jsx)(v,{children:"\u043d\u0430\u0437\u0430\u0434"})}),y&&6*(k+1)<y.length?Object(g.jsx)("div",{className:"button-next-block",onClick:()=>{N((e=>e+1))},children:Object(g.jsx)("button",{style:O,children:Object(g.jsx)("span",{style:m,children:"\u0414\u0430\u043b\u0456"})})}):Object(g.jsx)("div",{})]})})]})};var G=function(){const[e,t]=Object(i.useState)(null),[n,s]=Object(i.useState)(null),[c,l]=Object(i.useState)(null),[r,o]=Object(i.useState)("main"),[a,j]=Object(i.useState)(null),[h,b]=Object(i.useState)(null),[p,O]=Object(i.useState)(null),[m,x]=Object(i.useState)(null),[f,I]=Object(i.useState)(null),[v,P]=Object(i.useState)(null),[C,A]=Object(i.useState)(null),[w,S]=Object(i.useState)(null),[_,N]=Object(i.useState)(null),[B,L]=Object(i.useState)(null),[F,G]=Object(i.useState)(!1),[W,H]=Object(i.useState)(0),[q,V]=Object(i.useState)(0),[J,Q]=Object(i.useState)([]),[$,K]=Object(i.useState)(null),[X,Y]=Object(i.useState)(null),Z=e=>{o(e)},ee=e=>{x(e)};let te=null;switch(r){case"main":te=Object(g.jsx)(y,{data:n,setLastID:j,handleIdChange:ee,setCurrentPage:Z,setId:x,setBranchID:O,widthDisplay:_,heightDisplay:B,setShowPopupDesktop:G,config:e,setCurrentItems:H,currentItems:W,setServicePage:V,setParentID:b});break;case"subMenu":te=Object(g.jsx)(M,{setSubMenuData:S,data:n,id:m,branchID:p,setId:x,setCurrentPage:Z,setParentID:b,setBranchID:O,setLastID:j,widthDisplay:_,setShowPopupDesktop:G,config:e,heightDisplay:B,setServicePage:V,setItemMenuId:Y});break;case"itemMenu":te=Object(g.jsx)(z,{subMenuData:w,id:m,setCurrentPage:Z,setParentID:b,setBranchID:O,parendID:h,branchID:p,setId:x,lastID:a,widthDisplay:_,setShowPopupDesktop:G,config:e,heightDisplay:B,setServicePage:V,servicePage:q,setLastID:j,setParentIdHistory:Q,parentIdHistory:J});break;case"choiceTime":te=Object(g.jsx)(R,{id:m,setCurrentPage:Z,setParentID:b,setBranchID:O,parendID:h,branchID:p,setId:x,getTime:P,getDate:I,setServiceID:A,token:c,widthDisplay:_,setShowPopupDesktop:G,config:e,servicePage:q,heightDisplay:B});break;case"ticket":te=Object(g.jsx)(k,{id:m,parendID:h,branchID:p,serviceID:C,time:v,date:f,setCurrentPage:Z,token:c,widthDisplay:_,setShowPopupDesktop:G,config:e});break;case"extraNode":te=Object(g.jsx)(U,{subMenuData:w,id:m,setCurrentPage:Z,setParentID:b,setBranchID:O,parendID:h,branchID:p,setId:x,lastID:a,widthDisplay:_,setShowPopupDesktop:G,config:e,heightDisplay:B,setServicePage:V,servicePage:q,setParentIdHistory:Q,parentIdHistory:J,itemMenuId:X})}return Object(i.useEffect)((()=>{if(console.log("window.electronAPI",!!window.electronAPI),window.electronAPI){console.log("store?.data",window.electronAPI.store&&window.electronAPI.store.data);const e=window.electronAPI.store&&window.electronAPI.store.data;if(!e)return void console.error("Could not load config:",window.electronAPI.store&&window.electronAPI.store.path);t(e);const n=(e,n)=>{t(n)};return window.electronAPI.onConfigChanged(n),()=>{window.electronAPI.removeListener("config-changed",n)}}fetch("config/config.json").then((e=>{if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()})).then((e=>{t(e)})).catch((e=>{console.error("Could not load config:",e)}))}),[]),Object(i.useEffect)((()=>{if(null===e)return;const t="".concat(e.REACT_APP_API_URL,"/api/auth/login"),n={login:e.REACT_APP_TEST_LOGIN,password:e.REACT_APP_TEST_PASSWORD};T.a.post(t,n,{headers:{Authorization:"Basic Og==","Content-Type":"application/json"}}).then((e=>{l(e.data.Authorization)})).catch((e=>{console.error("Error:",e.response?e.response.data:e.message)}));const i=window.outerWidth,s=window.outerHeight;console.log("height",s),N(i),L(s)}),[e]),Object(i.useEffect)((()=>{if(null===e)return;const t="".concat(e.REACT_APP_API_URL,"/api/terminal/read/service-node/list"),n={branchId:e.BRANCH_ID};T.a.post(t,n,{headers:{Authorization:"Basic Og==","Content-Type":"application/json"}}).then((e=>{s(e.data.res)})).catch((e=>{console.error("Error:",e.response?e.response.data:e.message)}))}),[c]),Object(i.useEffect)((()=>{let t;return F&&(t=setTimeout((()=>{G(!1),W>0?H(0):o("main")}),1e3*e.REACT_APP_TIME_DOWN),K(t)),()=>{t&&clearTimeout(t)}}),[F]),Object(g.jsxs)("div",{style:{maxWidth:"100vw",position:"relative",overflow:"hidden"},children:[Object(g.jsxs)("div",{className:"block-content",children:[Object(g.jsx)(D,{}),Object(g.jsx)("div",{style:_>900?(null===n||void 0===n?void 0:n.length)>2?{backgroundColor:"#94D500",flexGrow:1,display:"flex",flexDirection:"column"}:d:u,children:te})]}),Object(g.jsx)("div",{children:F&&Object(g.jsx)("div",{className:"main-popup",onClick:()=>(G(!1),void($&&(clearTimeout($),K(null)))),children:Object(g.jsx)("div",{className:"popup-container",children:Object(g.jsx)(E,{config:e})})})}),Object(g.jsx)("div",{style:{position:"absolute",bottom:5,right:0},children:Object(g.jsx)("span",{children:null!==e&&e.version_project})})]})};l.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(G,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.82d659b2.chunk.js.map